AnimatedPieView
---
**ä¸€ä¸ªå¥½åƒçš„ç”œç”œåœˆï¼Ÿè¯·é—®å®¢å®˜è¦å•¥å£å‘³æ-V-**
 
[**English Doc**](https://github.com/razerdp/AnimatedPieView/blob/master/README_EN.md)

[![jcenter](https://api.bintray.com/packages/razerdp/maven/AnimatedPieView/images/download.svg)](https://bintray.com/razerdp/maven/AnimatedPieView/_latestVersion)
[![license](https://img.shields.io/badge/license-Apache--2.0-blue.svg)](https://github.com/razerdp/AnimatedPieView/blob/master/LICENSE)
[![Android Arsenal](https://img.shields.io/badge/Android%20Arsenal-AnimatedPieView-brightgreen.svg?style=flat)](https://android-arsenal.com/details/1/6507)
[![Api](https://img.shields.io/badge/Api-14%2B-green.svg)](https://img.shields.io/badge/Api-14%2B-green.svg)
[![Author](https://img.shields.io/badge/Author-razerdp-blue.svg)](https://github.com/razerdp) 
[![Backers on Open Collective](https://opencollective.com/AnimatedPieView/backers/badge.svg)](#backers) 
[![Sponsors on Open Collective](https://opencollective.com/AnimatedPieView/sponsors/badge.svg)](#sponsors) 

ä½¿ç”¨å»ºè®®:
---

**1.2.0é‡æ„ç‰ˆæ­£å¼å‘å¸ƒï¼Œå»ºè®®å‡çº§åˆ°è¯¥ç‰ˆæœ¬ï¼Œ1.2.0å°†æ•´ä¸ªé¡¹ç›®ç”±å¤´åˆ°å°¾é‡æ„äº†ä¸€éï¼Œæ›´å®Œå–„çš„æ³¨é‡Šå’Œæ–‡æ¡£ï¼Œä»¥åŠé’ˆå¯¹ä¸€äº›å‘½åå’Œæ—§ç‰ˆæœ¬çš„bugç»Ÿä¸€ä¿®å¤ï¼ŒåŒæ—¶æ›´åŠ æŠ½è±¡ï¼Œæ–¹ä¾¿ä»¥åçš„åŠŸèƒ½æ·»åŠ ã€‚æ¬¢è¿æäº¤ç›¸å…³Bug~æˆ‘ä¼šç¬¬ä¸€æ—¶é—´å»è§£å†³é—®é¢˜çš„**

å¼€å‘è¿›åº¦ ï¼ˆæ›´æ–°æ—¥å¿—->[æ—¥å¿—](https://github.com/razerdp/AnimatedPieView/blob/master/UPDATE_LOG.md)ï¼‰
---

  > å¦‚æœæ‚¨æœ‰åˆ«çš„éœ€æ±‚ï¼Œå¯ä»¥æäº¤æ‚¨çš„issueå“¦ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹æºç -V-

  * ~~å¢åŠ é»˜è®¤é€‰ä¸­æ”¯æŒ~~
  * ~~å¢åŠ å›¾ä¾‹æ”¯æŒ~~
  * ~~å¢åŠ åˆ é™¤æ•°æ®çš„æ–¹æ³•~~
  * ~~å¢åŠ æè¿°æ ‡ç­¾æ”¯æŒ~~
  * ~~é¡¹ç›®ä¼˜åŒ–/é‡æ„ï¼Œ1.2.0å‘å¸ƒ~~
  * ~~å…è®¸alphaçªå‡ºé€‰ä¸­çš„ç”œç”œåœˆ~~
  * ~~å…è®¸ç”œç”œåœˆä¹‹é—´å«æœ‰é—´éš”~~
  * ~~æ–‡å­—è‡ªé€‚åº”ç‚¹å‡»åŠ¨ç”»ä½ç½®~~
  * ~~æ–‡å­—æè¿°åŠ¨ç”»~~
  * ~~æœ‰æ–‡å­—æè¿°çš„ç”œç”œåœˆ~~
  * ~~ç‚¹å‡»äº‹ä»¶å›è°ƒçš„ç”œç”œåœˆ~~
  * ~~ç‚¹å‡»åŠ¨ç”»çš„ç”œç”œåœˆ~~
  * ~~å¯ä»¥ç‚¹å‡»çš„ç”œç”œåœˆ~~
  * ~~å¯ä»¥å˜æˆå¤§é¥¼çš„ç”œç”œåœˆ~~
  * ~~åŠ¨ç”»é•¿å¤§çš„ç”œç”œåœˆ~~

ä¸»è¦åŠŸèƒ½
---

| æè¿°        | æ–¹æ³•    |  é¢„è§ˆ  |
| --------   | :-----   | ---- |
| åŠ¨ç”»ç”Ÿé•¿        | --      |   ![pie_animation](https://github.com/razerdp/AnimatedPieView/blob/master/art/pie_animation.gif)    |
| é¥¼å›¾/ç”œç”œåœˆè½¬æ¢        | strokeMode(boolean)      |   ![pie_switch](https://github.com/razerdp/AnimatedPieView/blob/master/art/pie_switch.gif)    |
| è§’åº¦é—´éš™       | splitAngle(float)      |   ![pie_split_angle](https://github.com/razerdp/AnimatedPieView/blob/master/art/pie_split_angle.gif)    |
| ç»˜åˆ¶æ–‡å­—       | drawText(true)      |   ![pie_with_text](https://github.com/razerdp/AnimatedPieView/blob/master/art/pie_with_text.gif)    |
| ç‚¹å‡»æ•ˆæœ       | canTouch(true) / selectListener()    |   ![pie_click_effect](https://github.com/razerdp/AnimatedPieView/blob/master/art/pie_click_effect.gif)    |
| ç„¦ç‚¹ç”œç”œåœˆæ•ˆæœ (åå‘)      | focusAlphaType(<br>AnimatedPieViewConfig.FOCUS_WITH_ALPHA_REV,150<br>)    |   ![pie_click_with_focus_alpha_type_rev](https://github.com/razerdp/AnimatedPieView/blob/master/art/pie_click_with_focus_alpha_type_rev.gif)    |
| ç„¦ç‚¹ç”œç”œåœˆæ•ˆæœ       | focusAlphaType(<br>AnimatedPieViewConfig.FOCUS_WITH_ALPHA,150<br>)    |   ![pie_click_with_focus_alpha_type](https://github.com/razerdp/AnimatedPieView/blob/master/art/pie_click_with_focus_alpha_type.gif)    |
| ç”œç”œåœˆæ ‡ç­¾       | IPieInfo.PieOption    |   ![pie_option](https://github.com/razerdp/AnimatedPieView/blob/master/art/pie_option.png)    |

ä¾èµ–
---

æ·»åŠ ä¾èµ–ï¼ˆè¯·æŠŠ{latestVersion}æ›¿æ¢æˆä¸Šé¢çš„jcenteræ ‡ç­¾æ‰€ç¤ºç‰ˆæœ¬ï¼‰
```xml
	dependencies {
	        implementation 'com.github.razerdp:AnimatedPieView:{latestVersion}'
	}
```

åŸºæœ¬ä½¿ç”¨æ–¹å¼ï¼ˆç®€å•çš„è¶…ä¹æƒ³åƒï¼‰
---

**step 1ï¼šå®šä¹‰ä»»æ„ç±»å®ç°IPieInfoæ¥å£ï¼ˆå¦‚æœæ‡’ï¼Œå¯ä»¥ä½¿ç”¨SimplePieInfoï¼‰**

```java
public class Test implements IPieInfo {
    @Override
    public float getValue() {
        //è¿™ä¸ªæ•°å€¼å°†ä¼šå†³å®šå…¶æ‰€å æœ‰çš„é¥¼å›¾ç™¾åˆ†æ¯”
        return 0.5f;
    }

    @Override
    public int getColor() {
        //è¯¥æ®µç”œç”œåœˆçš„é¢œè‰²ï¼Œè¯·è¿”å›@colorIntï¼Œä¸è¦è¿”å›@colorRes
        return Color.WHITE;
    }

    @Override
    public String getDesc() {
        //æè¿°æ–‡å­—ï¼Œå¯ä¸è¿”å›
        return "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•";
    }
    
    @Nullable
    @Override
    public PieOption getPieOpeion() {
       //ä¸€äº›åˆ«çš„è®¾ç½®ï¼Œæ¯”å¦‚æ ‡ç­¾
       return mPieOption;
    }
}
```

**step 2ï¼šå®šä¹‰configå¹¶é…ç½®å°±å¯ä»¥äº†**


```java
AnimatedPieView mAnimatedPieView = findViewById(R.id.animatedPieView);
AnimatedPieViewConfig config = new AnimatedPieViewConfig();
config.startAngle(-90)// èµ·å§‹è§’åº¦åç§»
      .addData(new SimplePieInfo(30, getColor("FFC5FF8C"), "è¿™æ˜¯ç¬¬ä¸€æ®µ"))//æ•°æ®ï¼ˆå®ç°IPieInfoæ¥å£çš„beanï¼‰
      .addData(new SimplePieInfo(18.0f, getColor("FFFFD28C"), "è¿™æ˜¯ç¬¬äºŒæ®µ"))
      ...(å°½ç®¡addDataå§)
      .duration(2000);// æŒç»­æ—¶é—´
                
// ä»¥ä¸‹ä¸¤å¥å¯ä»¥ç›´æ¥ç”¨ mAnimatedPieView.start(config); è§£å†³ï¼ŒåŠŸèƒ½ä¸€è‡´
mAnimatedPieView.applyConfig(config);
mAnimatedPieView.start();
        
```

è¿›é˜¶ç”¨æ³•ï¼ˆæ‰€æœ‰é…ç½®éƒ½åœ¨configï¼Œand...ç›¸ä¿¡æˆ‘ï¼Œæˆ‘æä¾›å¤§å¤šæ•°é…ç½®ï¼Œä½†æ—¥å¸¸ç”¨åˆ°çš„ï¼Œå…¶å®ä¸å¤šå“ˆå“ˆï¼‰
---

```java
AnimatedPieViewConfig mConfig=mAnimatedPieView.getConfig();
mConfig.animOnTouch(true)// ç‚¹å‡»äº‹ä»¶æ˜¯å¦æ’­æ”¾æµ®ç°åŠ¨ç”»/å›é€€åŠ¨ç”»ï¼ˆé»˜è®¤trueï¼‰
       .addData(IPieInfo info, boolean autoDesc)// æ·»åŠ æ•°æ®ï¼ŒautoDescï¼šæ˜¯å¦è‡ªåŠ¨è¡¥å……æè¿°ï¼Ÿï¼ˆç™¾åˆ†æ¯”ï¼‰
       .floatExpandAngle(15f)// ç‚¹å‡»ååœ†å¼§/æ‰‡å½¢æ‰©å±•çš„è§’åº¦
       .floatShadowRadius(18f)// ç‚¹å‡»åçš„é˜´å½±æ‰©æ•£èŒƒå›´
       .floatUpDuration(500)// ç‚¹å‡»æµ®ç°åŠ¨ç”»æ—¶é—´
       .floatDownDuration(500)// ä¸Šä¸€ä¸ªæµ®ç°çš„åœ†å¼§å›é€€çš„åŠ¨ç”»æ—¶é—´
       .floatExpandSize(15)// ç‚¹å‡»åæ‰‡å½¢æ”¾å¤§æ•°å€¼,ï¼Œåªå¯¹é¥¼å›¾æœ‰æ•ˆ
       .strokeMode(true)// æ˜¯å¦åªç”»åœ†å¼§ã€ç”œç”œåœˆå“ˆå“ˆã€‘ï¼Œå¦åˆ™ç”»æ‰‡å½¢ï¼ˆé»˜è®¤trueï¼‰
       .strokeWidth(15)// åœ†å¼§ï¼ˆç”œç”œåœˆï¼‰å®½åº¦
       .duration(2500)// åŠ¨ç”»æ—¶é—´
       .startAngle(-90f)// å¼€å§‹çš„è§’åº¦
       .selectListener(new OnPieSelectListener<IPieInfo>())//ç‚¹å‡»äº‹ä»¶
       .drawText(true)// æ˜¯å¦ç»˜åˆ¶æ–‡å­—æè¿°
       .textSize(12)// ç»˜åˆ¶çš„æ–‡å­—å¤§å°
       .textMargin(8)// ç»˜åˆ¶æ–‡å­—ä¸å¯¼èˆªçº¿çš„è·ç¦»
       .autoSize(true)// è‡ªåŠ¨æµ‹é‡ç”œç”œåœˆåŠå¾„
       .pieRadius(100)// ç”œç”œåœˆåŠå¾„
       .pieRadiusRatio(0.8f)// ç”œç”œåœˆåŠå¾„å æ¯”
       .guidePointRadius(2)// è®¾ç½®æè¿°æ–‡å­—çš„å¼€å§‹å°ç‚¹çš„å¤§å°
       .guideLineWidth(4)// è®¾ç½®æè¿°æ–‡å­—çš„æŒ‡ç¤ºçº¿å®½åº¦
       .guideLineMarginStart(8)// è®¾ç½®æè¿°æ–‡å­—çš„æŒ‡ç¤ºçº¿å¼€å§‹è·ç¦»å¤–åœ†åŠå¾„çš„å¤§å°
       .textGravity(AnimatedPieViewConfig.ABOVE)// è®¾ç½®æè¿°æ–‡å­—æ–¹å‘ ã€
            -AnimatedPieViewConfig.ABOVEï¼šæ–‡å­—å°†ä¼šåœ¨å¯¼èˆªçº¿ä¸Šæ–¹ç»˜åˆ¶
            -AnimatedPieViewConfig.BELOWï¼šæ–‡å­—åœ¨å¯¼èˆªçº¿ä¸‹æ–¹ç»˜åˆ¶
            -AnimatedPieViewConfig.ALIGNï¼šæ–‡å­—ä¸å¯¼èˆªçº¿å¯¹é½
            -AnimatedPieViewConfig.ECTOPICï¼šæ–‡å­—åœ¨1ã€2è±¡é™éƒ¨åˆ†ç»˜åˆ¶åœ¨çº¿çš„ä¸Šæ–¹ï¼Œåœ¨3ã€4è±¡é™ç»˜åˆ¶åœ¨çº¿çš„ä¸‹æ–¹
       ã€‘
       .canTouch(true)// æ˜¯å¦å…è®¸ç”œç”œåœˆç‚¹å‡»æ”¾å¤§
       .splitAngle(1)// ç”œç”œåœˆé—´éš™è§’åº¦
       .focusAlphaType(AnimatedPieViewConfig.FOCUS_WITH_ALPHA_REV,150)// ç„¦ç‚¹ç”œç”œåœˆçš„alphaè¡¨ç°å½¢æ€åŠalphaå‰Šå‡å€¼
       .interpolator(new DecelerateInterpolator())// åŠ¨ç”»æ’å€¼å™¨
       .focusAlpha(150) // é€‰ä¸­çš„/æˆ–è€…éé€‰ä¸­çš„ç”œç”œåœˆçš„alphaå€¼ï¼ˆè·ŸfocusAlphaTypeæŒ‚é’©ï¼‰
       .legendsWith((ViewGroup) findViewById(R.id.ll_legends), new OnPieLegendBindListener<BasePieLegendsView>() {
                                @Override
                                public BasePieLegendsView onCreateLegendView(int position, IPieInfo info) {
                                    return position % 2 == 0 ?
                                            DefaultPieLegendsView.newInstance(MainActivity.this)
                                            : DefaultCirclePieLegendsView.newInstance(MainActivity.this);
                                }

                                @Override
                                public boolean onAddView(ViewGroup parent, BasePieLegendsView view) {
                                    return false;
                                }
                            }); //å›¾ä¾‹æ”¯æŒ
```

---

æ›´å¤šé…ç½®ï¼š
-----

åœ¨IPieInfoä¸­ï¼Œä½ å¯ä»¥é…ç½®`PieOption`ä»¥æ‰©å±•æ¯ä¸ªç”œç”œåœˆçš„è¡Œä¸º
```java
    @Nullable
    @Override
    public PieOption getPieOption() {
        return new PieOption()
                .setDefaultSelected(true) // é»˜è®¤é€‰ä¸­
                .setIconHeight(50) // å›¾æ ‡çš„é«˜åº¦
                .setIconWidth(50) //å›¾æ ‡å®½åº¦
                .setIconScaledHeight(0.5f) // å›¾æ ‡é«˜åº¦ç¼©æ”¾
                .setIconScaledWidth(0.5f) // å›¾æ ‡å®½åº¦ç¼©æ”¾
                .setLabelIcon(bitmap) // å›¾æ ‡èµ„æº
                .setLabelPadding(5) // å›¾æ ‡ä¸æ–‡å­—çš„è·ç¦»
                .setLabelPosition(PieOption.NEAR_PIE); // å›¾æ ‡åœ¨ç”œç”œåœˆå†…ä¾§
    }
```


äº¤æµç¾¤ï¼š590777418
---

å› ä¸ºç›®å‰è¿˜æœ‰æœ‹å‹åœˆé¡¹ç›®ï¼Œå»ºç«‹äº†ä¸€ä¸ªäº¤æµç¾¤ï¼Œå‡ºäºæ‡’å¾—ç®¡ç†é‚£ä¹ˆå¤šï¼Œæ‰€ä»¥å¦‚æœæœ‰æƒ³æ³•æˆ–è€…ä¼˜åŒ–å»ºè®®æˆ–è€…å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿åŠ å…¥â€œæœ‹å‹åœˆäº¤æµç¾¤â€

![](https://github.com/razerdp/FriendCircle/blob/master/qqgroup.png)

æ‰“èµï¼ˆçœ‹åœ¨æˆ‘é‚£ä¹ˆåŠªåŠ›ç»´æŠ¤çš„ä»½ä¸Šã€‚ã€‚ã€‚ç»™ä¸ªé›¶é£Ÿå‘—~ï¼‰
---

| å¾®ä¿¡ |æ”¯ä»˜å® | 
| ---- | ---- | 
| ![](https://github.com/razerdp/FriendCircle/blob/master/wechat.png)      | ![](https://github.com/razerdp/FriendCircle/blob/master/alipay.png) |


æ§ä»¶æ€è·¯ã€æŒ‰æ€è·¯é¡ºåºæ›´æ–°ã€‘
---

 [ä¸€èµ·å¼„ä¸ªç”œç”œåœˆå§](https://github.com/razerdp/Article/blob/master/%E4%B8%80%E8%B5%B7%E6%92%B8%E4%B8%AA%E7%94%9C%E7%94%9C%E5%9C%88.md)


LICENSE
---

[Apache-2.0](https://github.com/razerdp/AnimatedPieView/blob/master/LICENSE)
   
   

   




## Contributors

This project exists thanks to all the people who contribute. 
<a href="https://github.com/razerdp/AnimatedPieView/graphs/contributors"><img src="https://opencollective.com/AnimatedPieView/contributors.svg?width=890&button=false" /></a>


## Backers

Thank you to all our backers! ğŸ™ [[Become a backer](https://opencollective.com/AnimatedPieView#backer)]

<a href="https://opencollective.com/AnimatedPieView#backers" target="_blank"><img src="https://opencollective.com/AnimatedPieView/backers.svg?width=890"></a>


## Sponsors

Support this project by becoming a sponsor. Your logo will show up here with a link to your website. [[Become a sponsor](https://opencollective.com/AnimatedPieView#sponsor)]

<a href="https://opencollective.com/AnimatedPieView/sponsor/0/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/0/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/1/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/1/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/2/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/2/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/3/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/3/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/4/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/4/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/5/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/5/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/6/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/6/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/7/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/7/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/8/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/8/avatar.svg"></a>
<a href="https://opencollective.com/AnimatedPieView/sponsor/9/website" target="_blank"><img src="https://opencollective.com/AnimatedPieView/sponsor/9/avatar.svg"></a>


